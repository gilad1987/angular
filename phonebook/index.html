<!doctype html>
<html ng-app="phoneBook">
<head>
<title>Phonebook</title>
<meta name="viewport" content="width=device-width, user-scalable=no">

<base href="/angular/phonebook/"/>

<link rel="stylesheet" type="text/css" href="../css/bootstrap.css">
<link rel="stylesheet" type="text/css" href="../css/font-awesome.css">

<script src="../scripts/jQuery.js"></script>
<script src="../scripts/angular.js"></script>
<script src="../scripts/bootstrap.js"></script>
<script src="app.js"></script>
<script src="services/usersService.js"></script>
<script src="directives/row.js"></script>
<script src="controllers/addCtrl.js"></script>
<script src="controllers/listCtrl.js"></script>

<style type="text/css">
body{padding:10px;}
.has-feedback .form-control-feedback{top:0;}
.center{width:100%; max-width:500px; margin:0 auto}
.form-inline .form-control.center{width:100%; max-width:500px; margin:0 auto}
</style>
</head>
<body>
<div class="alert alert-success center" >Phone book application</div>

<br>






<form class="form-inline center" role="form" name='phone_book_form' ng-controller='addCtrl' novalidate>
	<div>
	  <div class="form-group  has-feedback center" ng-class="{'has-success':isValid('name'),'has-error':isInvalid('name')}">
	    <input type='text' ng-model='user.name' name='name' class="form-control center" placeholder='name:' required ng-minlength='3' >
	    <span class="glyphicon  form-control-feedback"  ng-class="{'glyphicon-ok':isValid('name'),'glyphicon-remove':isInvalid('name')}"></span>
	  </div>
	</div>

	<br>

	<div>
	  <div class="form-group  has-feedback center" ng-class="{'has-success':isValid('phone'),'has-error':isInvalid('phone')}">
	    <input type='text' ng-model='user.phone' name='phone' class="form-control center" placeholder='phone:'  required ng-minlength='10'>
	    <span class="glyphicon  form-control-feedback" ng-class="{'glyphicon-ok':isValid('phone'),'glyphicon-remove':isInvalid('phone')}"></span>
	  </div>
 	</div>

	<br>
	<button type="button" class="btn btn-success" ng-click='addRow()' ng-disabled='phone_book_form.phone.$invalid || phone_book_form.name.$invalid'>add new user</button>
	<br>
	<br>	
</form>


<div ng-controller='listCtrl' class='center'>
	<br>
	<div><input type='text' ng-model='search' class="form-control input-sm center" placeholder='search'/></div>
	<br>
	<table class="table table-striped center" >	
		<tr><td>#</td><td>name</td><td>phone</td></tr>
		<tr  ng-model='user' ng-repeat="user in users | filter: search | orderBy:'name' " row></tr>	
	</table>
</div>
</body>
</html>